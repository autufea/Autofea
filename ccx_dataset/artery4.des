This code is a simulation setup for a hollow tube structure subjected to a network pressure model predictive control (MPC) test, where one of the nodes is also part of a convective film condition. The nodes of the structure are defined first, followed by the elements that make up the tube and the water inside it. The material properties for the tube (elasticity, density, and conductivity) and water (density and fluid constants) are specified. The tube is assigned a solid section, while the water elements are assigned fluid sections with specific properties. Boundary conditions are set to fix certain degrees of freedom at specific nodes. An equation constraint is applied between two nodes. Initial conditions for total pressure at a node are defined. The simulation step is set to consider non-linear geometry effects and perform a steady-state heat transfer analysis. Additional boundary conditions specify temperatures and pressures at certain nodes, and film conditions are applied to model convective heat transfer. A mass flow boundary condition is set at a node, and a distributed load due to gravity is applied to the water elements. Finally, the output requests include total pressure, temperature, mass flow, and nodal temperatures at specified nodes.